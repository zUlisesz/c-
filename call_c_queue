#include <iostream>
#include <queue>
using namespace std;

struct Persona {
    string nombre;
    int turno;
};

void formar(queue<Persona>& fila) {
    Persona tempo;
    string nombre;
    int turno = fila.size() + 1;

    cout << "Nombre: ";
    cin >> nombre;
    tempo.nombre = nombre;
    tempo.turno = turno;
    fila.push(tempo);
    cout << "Formado en la fila" << endl;
}

void mostrar_fila(queue<Persona>& fila) {
    if (fila.empty()) {
        cout << "No hay nadie formado" << endl;
        return;
    }
    cout << "\n- - - - Miembros de la fila - - - -" << endl << endl;
    queue<Persona> copia = fila;
    while (!copia.empty()) {
        cout << "Nombre: " << copia.front().nombre
             << " - Numero de turno: " << copia.front().turno << endl;
        copia.pop();
    }
}

void atender(queue<Persona>& fila) {
    if (fila.empty()) {
        cout << "La fila está vacía y no hay nadie a quien atender" << endl;
        return;
    }
    cout << "Atendiendo a: " << fila.front().nombre << endl;
    fila.pop();
}

void vaciar_cola(queue<Persona>& fila) {
    while (!fila.empty()) {
        fila.pop();
    }
    cout << "La fila ha sido vaciada." << endl;
}

void realizar_operacion(queue<Persona>& fila) {
    int opcion;
    do {
        cout << "\n--- MENU ---" << endl;
        cout << "1) Formar persona" << endl;
        cout << "2) Mostrar fila" << endl;
        cout << "3) Atender persona" << endl;
        cout << "4) Vaciar fila" << endl;
        cout << "5) Salir" << endl;
        cout << "Elige una opcion: ";
        cin >> opcion;

        switch (opcion) {
            case 1:
                formar(fila);
                break;
            case 2:
                mostrar_fila(fila);
                break;
            case 3:
                atender(fila);
                break;
            case 4:
                vaciar_cola(fila);
                break;
            case 5:
                cout << "Saliendo..." << endl;
                break;
            default:
                cout << "Opcion no existente." << endl;
        }
    } while (opcion != 5);
}

int main() {
    queue<Persona> fila;
    realizar_operacion(fila);
    return 0;
}
